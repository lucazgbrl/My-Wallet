exports.id=84,exports.ids=[84],exports.modules={6385:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(8732),r=s(2015),n=s(2544),i=s(4822),l=s(2621);let c=function(){let e=(0,i.useNavigate)(),t=(0,n.useDispatch)(),[s,c]=(0,r.useState)(!0),[d,o]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),E=e=>{let{value:t,name:s}=e.target;"email"===s&&o(t),"senha"===s&&h(t),/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(d)&&u.length>4?c(!1):c(!0)};return(0,a.jsxs)("main",{className:"login-main",children:[(0,a.jsx)("h1",{children:"Login"}),(0,a.jsxs)("form",{id:"login-form",onSubmit:s=>{s.preventDefault(),t((0,l.Cg)(d)),e("/carteira")},children:[(0,a.jsxs)("label",{htmlFor:"email",children:["E-mail:"," ",(0,a.jsx)("input",{type:"text",name:"email",id:"email","data-testid":"email-input",value:d,onChange:E})]}),(0,a.jsxs)("label",{htmlFor:"senha",children:["Senha:"," ",(0,a.jsx)("input",{type:"password",name:"senha",id:"senha","data-testid":"password-input",value:u,onChange:E})]}),(0,a.jsx)("button",{type:"submit",disabled:s,children:"Entrar"})]})]})}},1116:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(8732),r=s(2544),n=s(2015),i=s(9965),l=s.n(i);let c=function(){let{user:e,wallet:t}=(0,r.useSelector)(e=>({user:e.user,wallet:e.wallet})),s=t.expenses.reduce((e,t)=>e+Number(t.value)*Number(t.exchangeRates[t.currency].ask),0);return(0,a.jsxs)("header",{className:"App-header",children:[(0,a.jsx)(l(),{src:"/carteira.png",alt:"logo",width:100,height:100}),(0,a.jsxs)("p",{className:"email","data-testid":"email-field",children:["Email:"," ",e.email]}),(0,a.jsxs)("p",{className:"total","data-testid":"total-field",children:["Total Gasto:"," ",s.toFixed(2)]}),(0,a.jsx)("p",{className:"currency","data-testid":"header-currency-field",children:"BRL"})]})};var d=s(2621);let o=function({expense:e,onDelete:t,onEdit:s}){let r=e.exchangeRates[e.currency],n=(Number(r.ask)*Number(e.value)).toFixed(2);return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.description}),(0,a.jsx)("td",{children:e.tag}),(0,a.jsx)("td",{children:e.method}),(0,a.jsx)("td",{children:Number(e.value).toFixed(2)}),(0,a.jsx)("td",{children:r.name}),(0,a.jsx)("td",{children:Number(r.ask).toFixed(2)}),(0,a.jsx)("td",{children:n}),(0,a.jsx)("td",{children:"Real"}),(0,a.jsxs)("td",{children:[(0,a.jsx)("button",{"data-testid":"delete-btn",onClick:()=>t(e.id),children:"Del"}),(0,a.jsx)("button",{"data-testid":"edit-btn",onClick:()=>s(e.id),children:"Editar"})]})]})},u=function({expenses:e,setEditingExpense:t}){let s=(0,r.useDispatch)(),n=e=>s((0,d.Wz)(e)),i=s=>{let a=e.find(e=>e.id===s);a&&t({id:a.id,form:a})};return(0,a.jsx)("section",{className:"table-section",children:(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Descri\xe7\xe3o"}),(0,a.jsx)("th",{children:"Tag"}),(0,a.jsx)("th",{children:"M\xe9todo de pagamento"}),(0,a.jsx)("th",{children:"Valor"}),(0,a.jsx)("th",{children:"Moeda"}),(0,a.jsx)("th",{children:"C\xe2mbio utilizado"}),(0,a.jsx)("th",{children:"Valor convertido"}),(0,a.jsx)("th",{children:"Moeda de convers\xe3o"}),(0,a.jsx)("th",{children:"Editar/Excluir"})]})}),(0,a.jsx)("tbody",{children:e.map(e=>(0,a.jsx)(o,{expense:e,onDelete:n,onEdit:i},e.id))})]})})},h={value:"",description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o"},E=function({editingExpense:e,setEditingExpense:t}){let[s,i]=(0,n.useState)(h),[l,c]=(0,n.useState)(!1),o=(0,r.useDispatch)(),u=(0,r.useSelector)(e=>e.wallet.currencies),E=e=>{let{name:t,value:s}=e.target;i(e=>({...e,[t]:s}))},x=async a=>{a.preventDefault();let r=await fetch("https://economia.awesomeapi.com.br/json/all"),n=await r.json();e?(o((0,d.Vl)(e.id,s,n)),t(null)):o((0,d.k5)(s,Date.now(),n)),i(h),c(!1)};return(0,a.jsx)("main",{id:"form-main",children:l?(0,a.jsx)("section",{className:"form-section",children:(0,a.jsxs)("form",{className:"expForm",onSubmit:x,children:[["value","description"].map(e=>(0,a.jsxs)("label",{htmlFor:e,children:["value"===e?"Valor:":"Descri\xe7\xe3o:",(0,a.jsx)("input",{type:"value"===e?"number":"text",name:e,id:e,"data-testid":`${e}-input`,value:s[e],onChange:E})]},e)),(0,a.jsxs)("label",{htmlFor:"currency",children:["Moeda:",(0,a.jsx)("select",{id:"currency",name:"currency","data-testid":"currency-input",value:s.currency,onChange:E,children:u.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsx)("button",{type:"submit",children:e?"Salvar Altera\xe7\xf5es":"Incluir Despesa"}),(0,a.jsx)("button",{type:"button",onClick:()=>{i(h),t(null),c(!1)},children:"Cancelar"})]})}):(0,a.jsx)("section",{className:"start-section",children:(0,a.jsx)("button",{className:"btn-show-form",onClick:()=>c(!0),children:"Nova Despesa"})})})},x=function(){let{expenses:e}=(0,r.useSelector)(e=>e.wallet),[t,s]=(0,n.useState)(null),i=Array.isArray(e)&&e.length>0;return(0,a.jsxs)("main",{className:"wallet-main",children:[(0,a.jsx)(c,{}),(0,a.jsx)(E,{editingExpense:t,setEditingExpense:s}),i?(0,a.jsx)(u,{expenses:e,setEditingExpense:s}):(0,a.jsx)("p",{className:"no-expenses",children:"Nenhuma despesa registrada"})]})}},5084:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var a=s(8732),r=s(2015),n=s(2544),i=s(4822);s(9315),s(7407);var l=s(4280),c=s(8646),d=s(1745),o=s(4699),u=s.n(o);let h={email:""};var E=s(2621);let x={isFetching:!1,currencies:[],expenses:[]},m=(0,c.combineReducers)({user:function(e=h,t){return"CHANGE_EMAIL"===t.type?{...h,email:t.payload}:e},wallet:function(e=x,t){switch(t.type){case E.Q3.REQ_STARTED:return{...e,isFetching:!0};case E.Q3.REQ_DONE:return{...e,isFetching:!1,currencies:t.payload,errorMessage:void 0};case E.Q3.REQ_FAILED:return{...e,isFetching:!1,errorMessage:t.payload};case E.Q3.ADD_EXPENSE:return{...e,expenses:[...e.expenses,t.payload]};case E.Q3.DELETE_EXPENSE:return{...e,expenses:e.expenses.filter(e=>e.id!==t.payload)};case E.Q3.EDIT_EXPENSE:return{...e,expenses:e.expenses.map(e=>e.id===t.payload.id?{...e,...t.payload}:e)};default:return e}}}),p=(0,c.legacy_createStore)(m,(0,d.composeWithDevTools)((0,c.applyMiddleware)(u()))),j=()=>{let[e,t]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{t(!0)},[]),e)?(0,a.jsx)(i.BrowserRouter,{children:(0,a.jsx)(n.Provider,{store:p,children:(0,a.jsx)(l.default,{})})}):null}},4280:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(8732);s(2015);var r=s(4822),n=s(6385),i=s(1116);let l=function(){return(0,a.jsxs)(r.Routes,{children:[(0,a.jsx)(r.Route,{path:"/",element:(0,a.jsx)(n.default,{})}),(0,a.jsx)(r.Route,{path:"/carteira",element:(0,a.jsx)(i.default,{})})]})}},2621:(e,t,s)=>{"use strict";s.d(t,{CW:()=>i,Cg:()=>n,Q3:()=>a,Vl:()=>d,Wz:()=>c,k5:()=>l});let a={CHANGE_EMAIL:"CHANGE_EMAIL",REQ_STARTED:"REQ_STARTED",REQ_DONE:"REQ_DONE",REQ_FAILED:"REQ_FAILED",ADD_EXPENSE:"ADD_EXPENSE",DELETE_EXPENSE:"DELETE_EXPENSE",EDIT_EXPENSE:"EDIT_EXPENSE"},r=(e,t)=>({type:e,payload:t}),n=e=>r(a.CHANGE_EMAIL,e);function i(){return async e=>{var t;e(r(a.REQ_STARTED));try{let t=await fetch("https://economia.awesomeapi.com.br/json/all");if(!t.ok)throw Error(`Erro na API: ${t.statusText}`);let s=await t.json(),n=Object.keys(s).filter(e=>"USDT"!==e);e(r(a.REQ_DONE,n))}catch(s){e((t=s instanceof Error?s.message:"Erro desconhecido",r(a.REQ_FAILED,t)))}}}let l=(e,t,s)=>r(a.ADD_EXPENSE,{id:t,value:e.value,description:e.description,currency:e.currency,method:e.method,tag:e.tag,exchangeRates:{...s}}),c=e=>r(a.DELETE_EXPENSE,e),d=(e,t,s)=>r(a.EDIT_EXPENSE,{id:e,value:t.value,description:t.description,currency:t.currency,method:t.method,tag:t.tag,exchangeRates:{...s}})},9315:()=>{},7407:()=>{}};